@tailwind base;
@layer base {
  ::selection {
    @apply bg-primary-300 dark:bg-primary-600 text-gray-800 dark:text-gray-50;
  }

  html {
    min-width: 320px;
    scroll-behavior: smooth;
  }

  body {
    font-family: 'Inter', sans-serif;
    font-weight: 300;
  }

  #__next {
    display: flex;
    flex-direction: column;
    min-height: 100vh;
  }

  a {
    @apply text-primary-500 dark:text-primary-300;
  }
  a:hover {
    @apply text-primary-800 dark:text-primary-400;
  }
  a:focus {
    @apply focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-current focus-visible:ring-offset-2;
  }

  .skip-to-content {
    @apply absolute px-4 py-3 motion-safe:transition-transform motion-safe:duration-200 transform -translate-y-12 left-1/4 focus:top-1 focus:translate-y-1 -top-8;
  }

  #main-content {
    scroll-margin-top: 1.125rem;
  }

  /* Remove Safari input shadow on mobile */
  textarea,
  input:matches([type='email'],[type='number'], [type='password'], [type='search'], [type='tel'], [type='text'], [type='url']) {
    -webkit-appearance: none;
  }

  img {
    /* Don't apply styles to next/image */
    @apply m-0;
  }
  code[class*='language-'],
  pre[class*='language-'] {
    @apply text-gray-800 dark:text-gray-50;
  }

  pre::-webkit-scrollbar {
    display: none;
  }

  pre {
    -ms-overflow-style: none; /* IE and Edge */
    scrollbar-width: none; /* Firefox */
  }

  table {
    display: block;
    overflow-y: scroll;
  }
}

@tailwind components;
@layer components {
  a.nav-active,
  a.nav-active:hover,
  a.nav-active:active {
    @apply relative overflow-hidden	text-primary-400 font-bold;
  }
  
  a.nav-active:hover,
  a.nav-active:active {
    @apply opacity-80;
  }

  a.nav-active::after {
    content: "";
    @apply absolute bg-primary-400 bg-opacity-50;
    left: 10px;
    bottom: -6px;
    width: calc(100% - 16px);
    height: calc(100% - 20px);
    transition: 0.35s cubic-bezier(0.25, 0.1, 0, 2.05);
  }

  a.glb-link {
    position: relative;
    overflow: hidden;
    @apply text-globant font-bold;
  }

  a.glb-link::after {
    content: "";
    @apply absolute bg-globant bg-opacity-50;
    left: 12px;
    bottom: -6px;
    width: calc(100% - 8px);
    height: calc(100% - 12px);
    transition: 0.35s cubic-bezier(0.25, 0.1, 0, 2.05);
  }

  a.wm-link {
    @apply relative overflow-hidden text-warnermedia font-bold;
  }

  a.wm-link::after {
    content: "";
    @apply absolute bg-warnermedia bg-opacity-50;
    left: 12px;
    bottom: -6px;
    width: calc(100% - 8px);
    height: calc(100% - 12px);
    transition: 0.35s cubic-bezier(0.25, 0.1, 0, 2.05);
  }

  a.wm-link:hover::after,
  a.glb-link:hover::after,
  a.wm-link:focus::after,
  a.glb-link:focus::after {
    left: 0;
    bottom: -2px;
    width: 100%;
    height: 100%;
  }

  a.glb-link:hover,
  a.wm-link:hover {
    @apply text-gray-800 dark:text-gray-200 font-bold;
  }

  /* Prose = MDX content */

  .prose {
    @apply max-w-full;
  }

  .prose pre {
    @apply bg-gray-50 border border-gray-200 dark:border-gray-700 dark:bg-gray-900;
  }

  .prose code {
    @apply text-gray-800 dark:text-gray-200 px-1 py-0.5 border border-gray-100 dark:border-gray-800 rounded-md bg-gray-100 dark:bg-gray-900;
  }

  .prose img {
    /* Don't apply styles to next/image */
    @apply m-0;
  }

  /* Used by /about page */
  .prose .photo-of-me {
    @apply float-none sm:float-right sm:ml-8 mb-4 w-full sm:w-1/3 text-center;
  }

  /* span = next/image component */
  .prose .photo-of-me span {
    @apply rounded-lg;
  }

  /* Used by /uses pages */
  .prose .list-item a {
    @apply bg-transparent;
  }
  .prose .list-item a:hover {
    @apply bg-primary-200 text-gray-800;
  }
  
  /* Timeline, used by /about page */
  .timeline .timeline-item::before {
      @apply bg-gray-600 dark:bg-gray-300 absolute h-full;
      content: "";
      left: 16px;
      top: 20px;
      width: 2px;
      z-index: -1;
  }

  .timeline h3,
  .timeline h4,
  .timeline p {
    /* Using !important to override prose styles */
    scroll-margin-top: 0 !important;
    margin-top: 0 !important;
    scroll-margin-bottom: 0 !important;
    margin-bottom: 0 !important;
  }

  /* Doodle my self */
  #mydoodleanimated svg path {
    stroke-width: 4;
    animation: draw 4s linear 0s 1 normal forwards;
  }

  #mydoodleanimated #mydoodleface {
    stroke-dasharray: 2810;
    stroke-dashoffset: 2810;
  }

  #mydoodleanimated #mydoodleface-draw {
    opacity: 0;
    animation: show .9s linear 4.3s 1 normal forwards;
  }

  #mydoodleanimated #eyes {
    left: 42%;
    width: 22%;
    height: 100%;
    opacity: 0;
    animation: show .1s linear 5s 1 normal forwards;
  }
  
  #mydoodleanimated #eye {
    width: 22.4%;
    height: 4.7%;
    top: 38.5%;
  }
  
  #mydoodleanimated #eye:last-child {
    left: 78%;
  }

  #mydoodleanimated #iris {
    width: 62.4%;
    height: 62.4%;
    transform-origin: 50%;
    animation: blink 5s infinite;
  }

  /* Animations */
  @keyframes draw {
    from {
      stroke-dashoffset: 2810;
    }
    to {
      stroke-dashoffset: 0;
    }
  }

  @keyframes show {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  @keyframes blink {
    0%, 100% {
      transform: scale(1, .05);
    }
    5%, 95% {
      transform: scale(1, 1);
    }
  }
}

@tailwind utilities;
@layer utilities {
  /* Theorically email protection */
  .email-protection {
    unicode-bidi: bidi-override;
    direction: rtl;
  }
}